---
layout: microtypo
---
{% capture source %}
  {% comment %}Inspired by https://www.sylvaindurand.org/ameliorer-la-typographie-avec-jekyll/{% endcomment %}
  {% assign temp1 = content | split: '<pre' %}
  {% for temp2 in temp1 %}
    {% assign temp3 = temp2 | split: '</pre>' %}
    {% if temp3.size == 2 %}
      <pre{{ temp3.first | newline_to_br }}</pre>
    {% endif %}
    {% assign t = temp3.last %}

    {% assign t = t | replace: '1er ' , '1<sup>er</sup> ' %}
    {% assign t = t | replace: '1er.' , '1<sup>er</sup>.' %}
    {% assign t = t | replace: '2e ' , '2<sup>e</sup> ' %}
    {% assign t = t | replace: '2e.' , '2<sup>e</sup>.' %}
    {% assign t = t | replace: '3e ' , '3<sup>e</sup> ' %}
    {% assign t = t | replace: '3e.' , '3<sup>e</sup>.' %}
    {% assign t = t | replace: '4e ' , '4<sup>e</sup> ' %}
    {% assign t = t | replace: '4e.' , '4<sup>e</sup>.' %}
    {% assign t = t | replace: '5e ' , '5<sup>e</sup> ' %}
    {% assign t = t | replace: '5e.' , '5<sup>e</sup>.' %}
    {% assign t = t | replace: '6e ' , '6<sup>e</sup> ' %}
    {% assign t = t | replace: '6e.' , '6<sup>e</sup>.' %}
    {% assign t = t | replace: '7e ' , '7<sup>e</sup> ' %}
    {% assign t = t | replace: '7e.' , '7<sup>e</sup>.' %}
    {% assign t = t | replace: '8e ' , '8<sup>e</sup> ' %}
    {% assign t = t | replace: '8e.' , '8<sup>e</sup>.' %}
    {% assign t = t | replace: '9e ' , '9<sup>e</sup> ' %}
    {% assign t = t | replace: '9e.' , '9<sup>e</sup>.' %}
    {% assign t = t | replace: '0e ' , '0<sup>e</sup> ' %}
    {% assign t = t | replace: '0e.' , '0<sup>e</sup>.' %}

    {% assign t = t | replace: '&ldquo;' , '«&#8239;' %}
    {% assign t = t | replace: '&rdquo;' , '&#8239;»' %}
    {% assign t = t | replace: '“' , '«&#8239;' %}
    {% assign t = t | replace: '”' , '&#8239;»' %}

    {% assign t = t | replace: 'et/ou' , 'et&#8239;/&#8239;ou' %}

    {% assign t = t | replace: ' ?!([^\w])' , '&#8239;&#8264;\1' %}
    {% assign t = t | replace: ' !?([^\w])' , '&#8239;&#8265;\1' %}
    {% assign t = t | replace: ' !!!([^\w]*)' , '&#8239;&#8252;\1' %}
    {% assign t = t | replace: ' !!([^\w])' , '&#8239;&#8252;\1' %}
    {% assign t = t | replace: ' x ' , ' &times;&nbsp;' %}

    {% assign t = t | replace: ' :', '&nbsp;:' %}

    {% assign t = t | replace: ' %', '&nbsp;%' %}
    {% assign t = t | replace: ' ;', '&nbsp;;' %}
    {% assign t = t | replace: ' !', '&nbsp;!' %}
    {% assign t = t | replace: ' ?', '&nbsp;?' %}
    {% assign t = t | replace: ' px', '&nbsp;px' %}
    {% assign t = t | replace: ' €', '&nbsp;€' %}
    {% assign t = t | replace: ' $', '&nbsp;$' %}
    {% assign t = t | replace: ' – ', '&#8239;–&#8239;' %}
    {% assign t = t | replace: '...' , '&#8230;' %}

    {% assign t = t | replace: '1/2 ' , '½ ' %}
    {% assign t = t | replace: '1/2.' , '½.' %}
    {% assign t = t | replace: '1/3 ' , '⅓ ' %}
    {% assign t = t | replace: '1/3.' , '⅓.' %}
    {% assign t = t | replace: '2/3 ' , '⅔ ' %}
    {% assign t = t | replace: '2/3.' , '⅔.' %}

    {{ t }}
  {% endfor %}
{% endcapture %}{{ source }}
